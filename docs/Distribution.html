<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Distribution · STAKE Token Distribution Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; Distribution&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html&quot;&gt;Ownable&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;&lt;a href=&quot;IDistribution.html&quot;&gt;IDistribution&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;description&quot;&gt;Distributes STAKE tokens.&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/poanetwork/dpos-token/blob/v1.0.3/contracts/Distribution.sol&quot; target=&quot;_blank&quot;&gt;contracts/Distribution.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#Initialized&quot;&gt;Initialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#InstallmentMade&quot;&gt;InstallmentMade&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#PoolAddressChanged&quot;&gt;PoolAddressChanged&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#PreInitialized&quot;&gt;PreInitialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateInstallmentValue&quot;&gt;_calculateInstallmentValue&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateInstallmentValue&quot;&gt;_calculateInstallmentValue&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateNumberOfAvailableInstallments&quot;&gt;_calculateNumberOfAvailableInstallments&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_endInstallment&quot;&gt;_endInstallment&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_now&quot;&gt;_now&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_updatePoolData&quot;&gt;_updatePoolData&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_validateAddress&quot;&gt;_validateAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#changePoolAddress&quot;&gt;changePoolAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#initialize&quot;&gt;initialize&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#makeInstallment&quot;&gt;makeInstallment&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#onTokenTransfer&quot;&gt;onTokenTransfer&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#preInitialize&quot;&gt;preInitialize&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#renounceOwnership&quot;&gt;renounceOwnership&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Initialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Initialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Initialized&lt;/strong&gt;&lt;span&gt;(address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when initialize method has been called.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;InstallmentMade&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;InstallmentMade&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;InstallmentMade&lt;/strong&gt;&lt;span&gt;(uint8 pool, uint256 value, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when an installment for the specified pool has been made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - The installment value&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;PoolAddressChanged&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;PoolAddressChanged&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;PoolAddressChanged&lt;/strong&gt;&lt;span&gt;(uint8 pool, address oldAddress, address newAddress) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when the pool address was changed.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;oldAddress&lt;/code&gt; - Old address&lt;/div&gt;&lt;div&gt;&lt;code&gt;newAddress&lt;/code&gt; - New address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;PreInitialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;PreInitialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;PreInitialized&lt;/strong&gt;&lt;span&gt;(address token, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when preInitialize method has been called.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;token&lt;/code&gt; - The address of ERC677BridgeToken&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;active&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;active&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;active&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks that the installments for the given pool are started and are not ended already.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;initialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;initialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;initialized&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks that the contract is initialized.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateInstallmentValue&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateInstallmentValue&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateInstallmentValue&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the value of the installment for 1 day for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateInstallmentValue&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateInstallmentValue&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateInstallmentValue&lt;/strong&gt;&lt;span&gt;(uint8 _pool, uint256 _valueAtCliff) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the value of the installment for 1 day for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;_valueAtCliff&lt;/code&gt; - Custom value to distribute at cliff&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateNumberOfAvailableInstallments&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateNumberOfAvailableInstallments&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateNumberOfAvailableInstallments&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the number of available installments for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;The number of available installments&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_endInstallment&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_endInstallment&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_endInstallment&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Marks that all installments for the given pool are made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_now&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_now&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_now&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_updatePoolData&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_updatePoolData&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_updatePoolData&lt;/strong&gt;&lt;span&gt;(uint8 _pool, uint256 _value, uint256 _currentNumberOfInstallments) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Updates the given pool data after each installment: the remaining number of tokens, the number of made installments. If the last installment are done and the tokens remained then transfers them to the pool and marks that all installments for the given pool are made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;_value&lt;/code&gt; - Current installment value&lt;/div&gt;&lt;div&gt;&lt;code&gt;_currentNumberOfInstallments&lt;/code&gt; - Number of installment that are made&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_validateAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_validateAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_validateAddress&lt;/strong&gt;&lt;span&gt;(address _address) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks for an empty address.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_address&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;changePoolAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;changePoolAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;changePoolAddress&lt;/strong&gt;&lt;span&gt;(uint8 _pool, address _newAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Changes the address of the specified pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool (only ECOSYSTEM_FUND or FOUNDATION_REWARD)&lt;/div&gt;&lt;div&gt;&lt;code&gt;_newAddress&lt;/code&gt; - The new address for the change&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;(address _ecosystemFundAddress, address _publicOfferingAddress, address _privateOfferingAddress_1, address _privateOfferingAddress_2, address _foundationAddress, address _exchangeRelatedActivitiesAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets up constants and pools addresses that are used in distribution.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_ecosystemFundAddress&lt;/code&gt; - The address of the Ecosystem Fund&lt;/div&gt;&lt;div&gt;&lt;code&gt;_publicOfferingAddress&lt;/code&gt; - The address of the Public Offering&lt;/div&gt;&lt;div&gt;&lt;code&gt;_privateOfferingAddress_1&lt;/code&gt; - The address of the first PrivateOfferingDistribution contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_privateOfferingAddress_2&lt;/code&gt; - The address of the second PrivateOfferingDistribution contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_foundationAddress&lt;/code&gt; - The address of the Foundation&lt;/div&gt;&lt;div&gt;&lt;code&gt;_exchangeRelatedActivitiesAddress&lt;/code&gt; - The address of the Exchange Related Activities&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;initialize&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;initialize&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;initialize&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Initializes token distribution.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;makeInstallment&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;makeInstallment&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;makeInstallment&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Makes an installment for one of the following pools: Private Offering, Ecosystem Fund, Foundation.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized &lt;/a&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;onTokenTransfer&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onTokenTransfer&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;onTokenTransfer&lt;/strong&gt;&lt;span&gt;(address , uint256 , bytes ) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;This method is called after the STAKE tokens are transferred to this contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - bytes&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;preInitialize&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;preInitialize&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;preInitialize&lt;/strong&gt;&lt;span&gt;(address _tokenAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Pre-initializes the contract after the token is created. Distributes tokens for Public Offering and Exchange Related Activities.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_tokenAddress&lt;/code&gt; - The address of the STAKE token&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;renounceOwnership&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;renounceOwnership&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;renounceOwnership&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The removed implementation of the ownership renouncing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Distribution · STAKE Token Distribution Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://poanetwork.github.io/dpos-token/index.html"/><meta property="og:description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; Distribution&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html&quot;&gt;Ownable&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;&lt;a href=&quot;IDistribution.html&quot;&gt;IDistribution&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;description&quot;&gt;Distributes STAKE tokens.&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/poanetwork/dpos-token/blob/v1.0.3/contracts/Distribution.sol&quot; target=&quot;_blank&quot;&gt;contracts/Distribution.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#Initialized&quot;&gt;Initialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#InstallmentMade&quot;&gt;InstallmentMade&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#PoolAddressChanged&quot;&gt;PoolAddressChanged&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#PreInitialized&quot;&gt;PreInitialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateInstallmentValue&quot;&gt;_calculateInstallmentValue&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateInstallmentValue&quot;&gt;_calculateInstallmentValue&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateNumberOfAvailableInstallments&quot;&gt;_calculateNumberOfAvailableInstallments&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_endInstallment&quot;&gt;_endInstallment&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_now&quot;&gt;_now&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_updatePoolData&quot;&gt;_updatePoolData&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_validateAddress&quot;&gt;_validateAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#changePoolAddress&quot;&gt;changePoolAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#initialize&quot;&gt;initialize&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#makeInstallment&quot;&gt;makeInstallment&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#onTokenTransfer&quot;&gt;onTokenTransfer&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#preInitialize&quot;&gt;preInitialize&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#renounceOwnership&quot;&gt;renounceOwnership&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Initialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Initialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Initialized&lt;/strong&gt;&lt;span&gt;(address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when initialize method has been called.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;InstallmentMade&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;InstallmentMade&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;InstallmentMade&lt;/strong&gt;&lt;span&gt;(uint8 pool, uint256 value, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when an installment for the specified pool has been made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - The installment value&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;PoolAddressChanged&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;PoolAddressChanged&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;PoolAddressChanged&lt;/strong&gt;&lt;span&gt;(uint8 pool, address oldAddress, address newAddress) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when the pool address was changed.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;oldAddress&lt;/code&gt; - Old address&lt;/div&gt;&lt;div&gt;&lt;code&gt;newAddress&lt;/code&gt; - New address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;PreInitialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;PreInitialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;PreInitialized&lt;/strong&gt;&lt;span&gt;(address token, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when preInitialize method has been called.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;token&lt;/code&gt; - The address of ERC677BridgeToken&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;active&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;active&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;active&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks that the installments for the given pool are started and are not ended already.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;initialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;initialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;initialized&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks that the contract is initialized.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateInstallmentValue&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateInstallmentValue&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateInstallmentValue&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the value of the installment for 1 day for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateInstallmentValue&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateInstallmentValue&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateInstallmentValue&lt;/strong&gt;&lt;span&gt;(uint8 _pool, uint256 _valueAtCliff) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the value of the installment for 1 day for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;_valueAtCliff&lt;/code&gt; - Custom value to distribute at cliff&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateNumberOfAvailableInstallments&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateNumberOfAvailableInstallments&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateNumberOfAvailableInstallments&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the number of available installments for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;The number of available installments&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_endInstallment&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_endInstallment&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_endInstallment&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Marks that all installments for the given pool are made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_now&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_now&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_now&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_updatePoolData&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_updatePoolData&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_updatePoolData&lt;/strong&gt;&lt;span&gt;(uint8 _pool, uint256 _value, uint256 _currentNumberOfInstallments) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Updates the given pool data after each installment: the remaining number of tokens, the number of made installments. If the last installment are done and the tokens remained then transfers them to the pool and marks that all installments for the given pool are made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;_value&lt;/code&gt; - Current installment value&lt;/div&gt;&lt;div&gt;&lt;code&gt;_currentNumberOfInstallments&lt;/code&gt; - Number of installment that are made&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_validateAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_validateAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_validateAddress&lt;/strong&gt;&lt;span&gt;(address _address) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks for an empty address.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_address&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;changePoolAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;changePoolAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;changePoolAddress&lt;/strong&gt;&lt;span&gt;(uint8 _pool, address _newAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Changes the address of the specified pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool (only ECOSYSTEM_FUND or FOUNDATION_REWARD)&lt;/div&gt;&lt;div&gt;&lt;code&gt;_newAddress&lt;/code&gt; - The new address for the change&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;(address _ecosystemFundAddress, address _publicOfferingAddress, address _privateOfferingAddress_1, address _privateOfferingAddress_2, address _foundationAddress, address _exchangeRelatedActivitiesAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets up constants and pools addresses that are used in distribution.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_ecosystemFundAddress&lt;/code&gt; - The address of the Ecosystem Fund&lt;/div&gt;&lt;div&gt;&lt;code&gt;_publicOfferingAddress&lt;/code&gt; - The address of the Public Offering&lt;/div&gt;&lt;div&gt;&lt;code&gt;_privateOfferingAddress_1&lt;/code&gt; - The address of the first PrivateOfferingDistribution contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_privateOfferingAddress_2&lt;/code&gt; - The address of the second PrivateOfferingDistribution contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;_foundationAddress&lt;/code&gt; - The address of the Foundation&lt;/div&gt;&lt;div&gt;&lt;code&gt;_exchangeRelatedActivitiesAddress&lt;/code&gt; - The address of the Exchange Related Activities&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;initialize&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;initialize&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;initialize&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Initializes token distribution.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;makeInstallment&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;makeInstallment&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;makeInstallment&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Makes an installment for one of the following pools: Private Offering, Ecosystem Fund, Foundation.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized &lt;/a&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;onTokenTransfer&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onTokenTransfer&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;onTokenTransfer&lt;/strong&gt;&lt;span&gt;(address , uint256 , bytes ) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;This method is called after the STAKE tokens are transferred to this contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - bytes&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;preInitialize&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;preInitialize&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;preInitialize&lt;/strong&gt;&lt;span&gt;(address _tokenAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Pre-initializes the contract after the token is created. Distributes tokens for Public Offering and Exchange Related Activities.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_tokenAddress&lt;/code&gt; - The address of the STAKE token&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;renounceOwnership&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;renounceOwnership&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;renounceOwnership&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The removed implementation of the ownership renouncing.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/dpos-token/undefined"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script src="/dpos-token/js/scrollSpy.js"></script><link rel="stylesheet" href="/dpos-token/css/main.css"/><script src="/dpos-token/js/codetabs.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/dpos-token/"><h2 class="headerTitle">STAKE Token Distribution Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"></ul></nav></div></header></div></div><div class="navPusher singleRowMobileNav"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>root</span></h2></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">token</h3><ul class=""><li class="navListItem"><a class="navItem" href="/dpos-token/docs/Token_ERC677BridgeToken.html">ERC677BridgeToken</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">root</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/dpos-token/docs/Distribution.html">Distribution</a></li><li class="navListItem"><a class="navItem" href="/dpos-token/docs/PrivateOfferingDistribution.html">PrivateOfferingDistribution</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle"> </h3><ul class=""><li class="navListItem"><a class="navItem" href="/dpos-token/docs/index.html">STAKE Token Distribution Docs</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Distribution</h1></header><article><div><span><div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> Distribution</h2><p class="base-contracts"><span>is</span> <a href="es_openzeppelin-solidity_contracts_ownership_Ownable.html">Ownable</a><span>, </span><a href="IDistribution.html">IDistribution</a></p><p class="description">Distributes STAKE tokens.</p><div class="source">Source: <a href="https://github.com/poanetwork/dpos-token/blob/v1.0.3/contracts/Distribution.sol" target="_blank">contracts/Distribution.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="Distribution.html#Initialized">Initialized</a></li><li><a href="Distribution.html#InstallmentMade">InstallmentMade</a></li><li><a href="Distribution.html#PoolAddressChanged">PoolAddressChanged</a></li><li><a href="Distribution.html#PreInitialized">PreInitialized</a></li><li><a href="Distribution.html#_calculateInstallmentValue">_calculateInstallmentValue</a></li><li><a href="Distribution.html#_calculateInstallmentValue">_calculateInstallmentValue</a></li><li><a href="Distribution.html#_calculateNumberOfAvailableInstallments">_calculateNumberOfAvailableInstallments</a></li><li><a href="Distribution.html#_endInstallment">_endInstallment</a></li><li><a href="Distribution.html#_now">_now</a></li><li><a href="Distribution.html#_updatePoolData">_updatePoolData</a></li><li><a href="Distribution.html#_validateAddress">_validateAddress</a></li><li><a href="Distribution.html#active">active</a></li><li><a href="Distribution.html#changePoolAddress">changePoolAddress</a></li><li><a href="Distribution.html#">fallback</a></li><li><a href="Distribution.html#initialize">initialize</a></li><li><a href="Distribution.html#initialized">initialized</a></li><li><a href="Distribution.html#makeInstallment">makeInstallment</a></li><li><a href="Distribution.html#onTokenTransfer">onTokenTransfer</a></li><li><a href="Distribution.html#preInitialize">preInitialize</a></li><li><a href="Distribution.html#renounceOwnership">renounceOwnership</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="Initialized" class="anchor-marker"></span><h4 class="name">Initialized</h4><div class="body"><code class="signature">event <strong>Initialized</strong><span>(address caller) </span></code><hr/><div class="description"><p>Emits when initialize method has been called.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>caller</code> - The address of the caller</div></dd></dl></div></div></li><li><div class="item event"><span id="InstallmentMade" class="anchor-marker"></span><h4 class="name">InstallmentMade</h4><div class="body"><code class="signature">event <strong>InstallmentMade</strong><span>(uint8 pool, uint256 value, address caller) </span></code><hr/><div class="description"><p>Emits when an installment for the specified pool has been made.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>pool</code> - The index of the pool</div><div><code>value</code> - The installment value</div><div><code>caller</code> - The address of the caller</div></dd></dl></div></div></li><li><div class="item event"><span id="PoolAddressChanged" class="anchor-marker"></span><h4 class="name">PoolAddressChanged</h4><div class="body"><code class="signature">event <strong>PoolAddressChanged</strong><span>(uint8 pool, address oldAddress, address newAddress) </span></code><hr/><div class="description"><p>Emits when the pool address was changed.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>pool</code> - The index of the pool</div><div><code>oldAddress</code> - Old address</div><div><code>newAddress</code> - New address</div></dd></dl></div></div></li><li><div class="item event"><span id="PreInitialized" class="anchor-marker"></span><h4 class="name">PreInitialized</h4><div class="body"><code class="signature">event <strong>PreInitialized</strong><span>(address token, address caller) </span></code><hr/><div class="description"><p>Emits when preInitialize method has been called.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>token</code> - The address of ERC677BridgeToken</div><div><code>caller</code> - The address of the caller</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="active" class="anchor-marker"></span><h4 class="name">active</h4><div class="body"><code class="signature">modifier <strong>active</strong><span>(uint8 _pool) </span></code><hr/><div class="description"><p>Checks that the installments for the given pool are started and are not ended already.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd></dl></div></div></li><li><div class="item modifier"><span id="initialized" class="anchor-marker"></span><h4 class="name">initialized</h4><div class="body"><code class="signature">modifier <strong>initialized</strong><span>() </span></code><hr/><div class="description"><p>Checks that the contract is initialized.</p></div></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="_calculateInstallmentValue" class="anchor-marker"></span><h4 class="name">_calculateInstallmentValue</h4><div class="body"><code class="signature">function <strong>_calculateInstallmentValue</strong><span>(uint8 _pool) </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Calculates the value of the installment for 1 day for the given pool.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_calculateInstallmentValue" class="anchor-marker"></span><h4 class="name">_calculateInstallmentValue</h4><div class="body"><code class="signature">function <strong>_calculateInstallmentValue</strong><span>(uint8 _pool, uint256 _valueAtCliff) </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Calculates the value of the installment for 1 day for the given pool.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div><div><code>_valueAtCliff</code> - Custom value to distribute at cliff</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_calculateNumberOfAvailableInstallments" class="anchor-marker"></span><h4 class="name">_calculateNumberOfAvailableInstallments</h4><div class="body"><code class="signature">function <strong>_calculateNumberOfAvailableInstallments</strong><span>(uint8 _pool) </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Calculates the number of available installments for the given pool.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd><dt><span class="label-return">Returns:</span></dt><dd>The number of available installments</dd></dl></div></div></li><li><div class="item function"><span id="_endInstallment" class="anchor-marker"></span><h4 class="name">_endInstallment</h4><div class="body"><code class="signature">function <strong>_endInstallment</strong><span>(uint8 _pool) </span><span>internal </span></code><hr/><div class="description"><p>Marks that all installments for the given pool are made.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd></dl></div></div></li><li><div class="item function"><span id="_now" class="anchor-marker"></span><h4 class="name">_now</h4><div class="body"><code class="signature">function <strong>_now</strong><span>() </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_updatePoolData" class="anchor-marker"></span><h4 class="name">_updatePoolData</h4><div class="body"><code class="signature">function <strong>_updatePoolData</strong><span>(uint8 _pool, uint256 _value, uint256 _currentNumberOfInstallments) </span><span>internal </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Updates the given pool data after each installment: the remaining number of tokens, the number of made installments. If the last installment are done and the tokens remained then transfers them to the pool and marks that all installments for the given pool are made.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div><div><code>_value</code> - Current installment value</div><div><code>_currentNumberOfInstallments</code> - Number of installment that are made</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_validateAddress" class="anchor-marker"></span><h4 class="name">_validateAddress</h4><div class="body"><code class="signature">function <strong>_validateAddress</strong><span>(address _address) </span><span>internal </span><span>pure </span></code><hr/><div class="description"><p>Checks for an empty address.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_address</code> - address</div></dd></dl></div></div></li><li><div class="item function"><span id="changePoolAddress" class="anchor-marker"></span><h4 class="name">changePoolAddress</h4><div class="body"><code class="signature">function <strong>changePoolAddress</strong><span>(uint8 _pool, address _newAddress) </span><span>external </span></code><hr/><div class="description"><p>Changes the address of the specified pool.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool (only ECOSYSTEM_FUND or FOUNDATION_REWARD)</div><div><code>_newAddress</code> - The new address for the change</div></dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>(address _ecosystemFundAddress, address _publicOfferingAddress, address _privateOfferingAddress_1, address _privateOfferingAddress_2, address _foundationAddress, address _exchangeRelatedActivitiesAddress) </span><span>public </span></code><hr/><div class="description"><p>Sets up constants and pools addresses that are used in distribution.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_ecosystemFundAddress</code> - The address of the Ecosystem Fund</div><div><code>_publicOfferingAddress</code> - The address of the Public Offering</div><div><code>_privateOfferingAddress_1</code> - The address of the first PrivateOfferingDistribution contract</div><div><code>_privateOfferingAddress_2</code> - The address of the second PrivateOfferingDistribution contract</div><div><code>_foundationAddress</code> - The address of the Foundation</div><div><code>_exchangeRelatedActivitiesAddress</code> - The address of the Exchange Related Activities</div></dd></dl></div></div></li><li><div class="item function"><span id="initialize" class="anchor-marker"></span><h4 class="name">initialize</h4><div class="body"><code class="signature">function <strong>initialize</strong><span>() </span><span>external </span></code><hr/><div class="description"><p>Initializes token distribution.</p></div></div></div></li><li><div class="item function"><span id="makeInstallment" class="anchor-marker"></span><h4 class="name">makeInstallment</h4><div class="body"><code class="signature">function <strong>makeInstallment</strong><span>(uint8 _pool) </span><span>public </span></code><hr/><div class="description"><p>Makes an installment for one of the following pools: Private Offering, Ecosystem Fund, Foundation.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Distribution.html#initialized">initialized </a><a href="Distribution.html#active">active </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd></dl></div></div></li><li><div class="item function"><span id="onTokenTransfer" class="anchor-marker"></span><h4 class="name">onTokenTransfer</h4><div class="body"><code class="signature">function <strong>onTokenTransfer</strong><span>(address , uint256 , bytes ) </span><span>public </span><span>pure </span><span>returns  (bool) </span></code><hr/><div class="description"><p>This method is called after the STAKE tokens are transferred to this contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code></code> - address</div><div><code></code> - uint256</div><div><code></code> - bytes</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="preInitialize" class="anchor-marker"></span><h4 class="name">preInitialize</h4><div class="body"><code class="signature">function <strong>preInitialize</strong><span>(address _tokenAddress) </span><span>external </span></code><hr/><div class="description"><p>Pre-initializes the contract after the token is created. Distributes tokens for Public Offering and Exchange Related Activities.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_tokenAddress</code> - The address of the STAKE token</div></dd></dl></div></div></li><li><div class="item function"><span id="renounceOwnership" class="anchor-marker"></span><h4 class="name">renounceOwnership</h4><div class="body"><code class="signature">function <strong>renounceOwnership</strong><span>() </span><span>public </span></code><hr/><div class="description"><p>The removed implementation of the ownership renouncing.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner">onlyOwner </a></dd></dl></div></div></li></ul></div></div></div>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/dpos-token/docs/Token_ERC677BridgeToken.html"><span class="arrow-prev">← </span><span class="function-name-prevnext">ERC677BridgeToken</span></a><a class="docs-next button" href="/dpos-token/docs/PrivateOfferingDistribution.html"><span class="function-name-prevnext">PrivateOfferingDistribution</span><span class="arrow-next"> →</span></a></div></div></div></div></div></body></html>