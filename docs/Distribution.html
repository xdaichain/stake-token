<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Distribution · DPOS Token Distribution Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; Distribution&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html&quot;&gt;Ownable&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;&lt;a href=&quot;IDistribution.html&quot;&gt;IDistribution&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;description&quot;&gt;Distributes DPOS tokens.&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/poanetwork/dpos-token/blob/v1.0.0/contracts/Distribution.sol&quot; target=&quot;_blank&quot;&gt;contracts/Distribution.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#BridgeAddressSet&quot;&gt;BridgeAddressSet&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#Initialized&quot;&gt;Initialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#InstallmentMade&quot;&gt;InstallmentMade&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#PoolAddressChanged&quot;&gt;PoolAddressChanged&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#RewardForStakingUnlocked&quot;&gt;RewardForStakingUnlocked&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateInstallmentValue&quot;&gt;_calculateInstallmentValue&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateInstallmentValue&quot;&gt;_calculateInstallmentValue&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateNumberOfAvailableInstallments&quot;&gt;_calculateNumberOfAvailableInstallments&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateSumOfValues&quot;&gt;_calculateSumOfValues&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_distributeTokensForPrivateOffering&quot;&gt;_distributeTokensForPrivateOffering&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_endInstallment&quot;&gt;_endInstallment&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_updatePoolData&quot;&gt;_updatePoolData&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_validateAddress&quot;&gt;_validateAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_validateAddresses&quot;&gt;_validateAddresses&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_validatePrivateOfferingData&quot;&gt;_validatePrivateOfferingData&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#changePoolAddress&quot;&gt;changePoolAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#getPrivateOfferingParticipantsData&quot;&gt;getPrivateOfferingParticipantsData&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#initialize&quot;&gt;initialize&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#makeInstallment&quot;&gt;makeInstallment&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#setBridgeAddress&quot;&gt;setBridgeAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#unlockRewardForStaking&quot;&gt;unlockRewardForStaking&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;BridgeAddressSet&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;BridgeAddressSet&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;BridgeAddressSet&lt;/strong&gt;&lt;span&gt;(address bridge, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when the bridge address has beed set.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;bridge&lt;/code&gt; - The bridge address&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Initialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Initialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Initialized&lt;/strong&gt;&lt;span&gt;(address token, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when initialize method has been called.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;token&lt;/code&gt; - The address of ERC677BridgeToken&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;InstallmentMade&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;InstallmentMade&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;InstallmentMade&lt;/strong&gt;&lt;span&gt;(uint8 pool, uint256 value, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when an installment for the specified pool has been made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - The installment value&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;PoolAddressChanged&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;PoolAddressChanged&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;PoolAddressChanged&lt;/strong&gt;&lt;span&gt;(uint8 pool, address oldAddress, address newAddress) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when the pool address was changed.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;oldAddress&lt;/code&gt; - Old address&lt;/div&gt;&lt;div&gt;&lt;code&gt;newAddress&lt;/code&gt; - New address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;RewardForStakingUnlocked&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;RewardForStakingUnlocked&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;RewardForStakingUnlocked&lt;/strong&gt;&lt;span&gt;(address bridge, address poolAddress, uint256 value, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when Reward for Staking has been unlocked.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;bridge&lt;/code&gt; - The address of the bridge contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;poolAddress&lt;/code&gt; - The address of Reward for Staking pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - The unlocked value&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;active&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;active&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;active&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks that the installments for the given pool are started and are not ended already.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;initialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;initialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;initialized&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks that the contract is initialized.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateInstallmentValue&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateInstallmentValue&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateInstallmentValue&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the value of the installment for 1 epoch (week) for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateInstallmentValue&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateInstallmentValue&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateInstallmentValue&lt;/strong&gt;&lt;span&gt;(uint8 _pool, uint256 _valueAtCliff) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the value of the installment for 1 epoch (week) for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;_valueAtCliff&lt;/code&gt; - Custom value to distribute at cliff&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateNumberOfAvailableInstallments&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateNumberOfAvailableInstallments&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateNumberOfAvailableInstallments&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the number of available installments for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;The number of available installments&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateSumOfValues&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateSumOfValues&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateSumOfValues&lt;/strong&gt;&lt;span&gt;(uint256[] _values) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the sum of values.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_values&lt;/code&gt; - Array of values&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Sum of values&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_distributeTokensForPrivateOffering&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_distributeTokensForPrivateOffering&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_distributeTokensForPrivateOffering&lt;/strong&gt;&lt;span&gt;(uint256 _value) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Distributes tokens between Private Offering participants.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_value&lt;/code&gt; - Amount of tokens to distribute&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_endInstallment&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_endInstallment&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_endInstallment&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Marks that all installments for the given pool are made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_updatePoolData&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_updatePoolData&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_updatePoolData&lt;/strong&gt;&lt;span&gt;(uint8 _pool, uint256 _value, uint256 _currentNumberOfInstallments) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Updates the given pool data after each installment: the remaining number of tokens, the number of made installments. If the last installment are done and the tokens remained then transfers them to the pool and marks that all installments for the given pool are made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;_value&lt;/code&gt; - Current installment value&lt;/div&gt;&lt;div&gt;&lt;code&gt;_currentNumberOfInstallments&lt;/code&gt; - Number of installment that are made&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_validateAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_validateAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_validateAddress&lt;/strong&gt;&lt;span&gt;(address _address) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks for an empty address.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_address&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_validateAddresses&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_validateAddresses&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_validateAddresses&lt;/strong&gt;&lt;span&gt;(address[] _addresses) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks an array for empty addresses.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_addresses&lt;/code&gt; - address[]&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_validatePrivateOfferingData&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_validatePrivateOfferingData&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_validatePrivateOfferingData&lt;/strong&gt;&lt;span&gt;(address[] _participants, uint256[] _stakes) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Compares arrays sizes, checks the array of the participants for empty addresses and checks the sum of the array values.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_participants&lt;/code&gt; - The addresses of the participants&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stakes&lt;/code&gt; - The amounts of the tokens that belong to each participant&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Sum of participants stakes&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;changePoolAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;changePoolAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;changePoolAddress&lt;/strong&gt;&lt;span&gt;(uint8 _pool, address _newAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Changes the address of the specified pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool (only ECOSYSTEM_FUND or FOUNDATION_REWARD)&lt;/div&gt;&lt;div&gt;&lt;code&gt;_newAddress&lt;/code&gt; - The new address for the change&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;(uint256 _stakingEpochDuration, address _rewardForStakingAddress, address _ecosystemFundAddress, address _publicOfferingAddress, address _foundationAddress, address _exchangeRelatedActivitiesAddress, address[] _privateOfferingParticipants, uint256[] _privateOfferingParticipantsStakes) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets up constants and pools addresses that are used in distribution.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingEpochDuration&lt;/code&gt; - stacking epoch duration in seconds&lt;/div&gt;&lt;div&gt;&lt;code&gt;_rewardForStakingAddress&lt;/code&gt; - The address of the Reward for Staking. If this address is a multisig contract, the contract must be created with `create2` opcode to be able to create the same multisig with the same address on the opposite side of the bridge&lt;/div&gt;&lt;div&gt;&lt;code&gt;_ecosystemFundAddress&lt;/code&gt; - The address of the Ecosystem Fund&lt;/div&gt;&lt;div&gt;&lt;code&gt;_publicOfferingAddress&lt;/code&gt; - The address of the Public Offering&lt;/div&gt;&lt;div&gt;&lt;code&gt;_foundationAddress&lt;/code&gt; - The address of the Foundation&lt;/div&gt;&lt;div&gt;&lt;code&gt;_exchangeRelatedActivitiesAddress&lt;/code&gt; - The address of the Exchange Related Activities&lt;/div&gt;&lt;div&gt;&lt;code&gt;_privateOfferingParticipants&lt;/code&gt; - The addresses of the Private Offering participants&lt;/div&gt;&lt;div&gt;&lt;code&gt;_privateOfferingParticipantsStakes&lt;/code&gt; - The amounts of the tokens that belong to each participant&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPrivateOfferingParticipantsData&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPrivateOfferingParticipantsData&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPrivateOfferingParticipantsData&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[], uint256[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns addresses and stakes of Private Offering participants.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;dd&gt;uint256[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;initialize&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;initialize&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;initialize&lt;/strong&gt;&lt;span&gt;(address _tokenAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Initializes the contract after the token is created.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_tokenAddress&lt;/code&gt; - The address of the DPOS token&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;makeInstallment&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;makeInstallment&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;makeInstallment&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Makes an installment for one of the following pools: Private Offering, Ecosystem Fund, Foundation.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized &lt;/a&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setBridgeAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setBridgeAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setBridgeAddress&lt;/strong&gt;&lt;span&gt;(address _bridgeAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets bridge contract address.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_bridgeAddress&lt;/code&gt; - Bridge address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;unlockRewardForStaking&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;unlockRewardForStaking&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;unlockRewardForStaking&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Transfers tokens to the bridge contract. Before calling this method, the poolAddress[REWARD_FOR_STAKING] address must call token.approve(Distribution.address, 73000000 ether), where `Distribution.address` is an address of this Distribution contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized &lt;/a&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active &lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Distribution · DPOS Token Distribution Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://poanetwork.github.io/dpos-token/index.html"/><meta property="og:description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; Distribution&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html&quot;&gt;Ownable&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;&lt;a href=&quot;IDistribution.html&quot;&gt;IDistribution&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;description&quot;&gt;Distributes DPOS tokens.&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/poanetwork/dpos-token/blob/v1.0.0/contracts/Distribution.sol&quot; target=&quot;_blank&quot;&gt;contracts/Distribution.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#BridgeAddressSet&quot;&gt;BridgeAddressSet&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#Initialized&quot;&gt;Initialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#InstallmentMade&quot;&gt;InstallmentMade&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#PoolAddressChanged&quot;&gt;PoolAddressChanged&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#RewardForStakingUnlocked&quot;&gt;RewardForStakingUnlocked&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateInstallmentValue&quot;&gt;_calculateInstallmentValue&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateInstallmentValue&quot;&gt;_calculateInstallmentValue&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateNumberOfAvailableInstallments&quot;&gt;_calculateNumberOfAvailableInstallments&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_calculateSumOfValues&quot;&gt;_calculateSumOfValues&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_distributeTokensForPrivateOffering&quot;&gt;_distributeTokensForPrivateOffering&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_endInstallment&quot;&gt;_endInstallment&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_updatePoolData&quot;&gt;_updatePoolData&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_validateAddress&quot;&gt;_validateAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_validateAddresses&quot;&gt;_validateAddresses&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#_validatePrivateOfferingData&quot;&gt;_validatePrivateOfferingData&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#changePoolAddress&quot;&gt;changePoolAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#getPrivateOfferingParticipantsData&quot;&gt;getPrivateOfferingParticipantsData&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#initialize&quot;&gt;initialize&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#makeInstallment&quot;&gt;makeInstallment&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#setBridgeAddress&quot;&gt;setBridgeAddress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;Distribution.html#unlockRewardForStaking&quot;&gt;unlockRewardForStaking&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;BridgeAddressSet&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;BridgeAddressSet&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;BridgeAddressSet&lt;/strong&gt;&lt;span&gt;(address bridge, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when the bridge address has beed set.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;bridge&lt;/code&gt; - The bridge address&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Initialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Initialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Initialized&lt;/strong&gt;&lt;span&gt;(address token, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when initialize method has been called.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;token&lt;/code&gt; - The address of ERC677BridgeToken&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;InstallmentMade&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;InstallmentMade&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;InstallmentMade&lt;/strong&gt;&lt;span&gt;(uint8 pool, uint256 value, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when an installment for the specified pool has been made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - The installment value&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;PoolAddressChanged&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;PoolAddressChanged&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;PoolAddressChanged&lt;/strong&gt;&lt;span&gt;(uint8 pool, address oldAddress, address newAddress) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when the pool address was changed.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;oldAddress&lt;/code&gt; - Old address&lt;/div&gt;&lt;div&gt;&lt;code&gt;newAddress&lt;/code&gt; - New address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;RewardForStakingUnlocked&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;RewardForStakingUnlocked&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;RewardForStakingUnlocked&lt;/strong&gt;&lt;span&gt;(address bridge, address poolAddress, uint256 value, address caller) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emits when Reward for Staking has been unlocked.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;bridge&lt;/code&gt; - The address of the bridge contract&lt;/div&gt;&lt;div&gt;&lt;code&gt;poolAddress&lt;/code&gt; - The address of Reward for Staking pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - The unlocked value&lt;/div&gt;&lt;div&gt;&lt;code&gt;caller&lt;/code&gt; - The address of the caller&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;active&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;active&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;active&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks that the installments for the given pool are started and are not ended already.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;initialized&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;initialized&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;initialized&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks that the contract is initialized.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateInstallmentValue&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateInstallmentValue&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateInstallmentValue&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the value of the installment for 1 epoch (week) for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateInstallmentValue&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateInstallmentValue&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateInstallmentValue&lt;/strong&gt;&lt;span&gt;(uint8 _pool, uint256 _valueAtCliff) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the value of the installment for 1 epoch (week) for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;_valueAtCliff&lt;/code&gt; - Custom value to distribute at cliff&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateNumberOfAvailableInstallments&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateNumberOfAvailableInstallments&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateNumberOfAvailableInstallments&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the number of available installments for the given pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;The number of available installments&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_calculateSumOfValues&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_calculateSumOfValues&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_calculateSumOfValues&lt;/strong&gt;&lt;span&gt;(uint256[] _values) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates the sum of values.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_values&lt;/code&gt; - Array of values&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Sum of values&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_distributeTokensForPrivateOffering&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_distributeTokensForPrivateOffering&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_distributeTokensForPrivateOffering&lt;/strong&gt;&lt;span&gt;(uint256 _value) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Distributes tokens between Private Offering participants.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_value&lt;/code&gt; - Amount of tokens to distribute&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_endInstallment&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_endInstallment&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_endInstallment&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Marks that all installments for the given pool are made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_updatePoolData&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_updatePoolData&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_updatePoolData&lt;/strong&gt;&lt;span&gt;(uint8 _pool, uint256 _value, uint256 _currentNumberOfInstallments) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Updates the given pool data after each installment: the remaining number of tokens, the number of made installments. If the last installment are done and the tokens remained then transfers them to the pool and marks that all installments for the given pool are made.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;div&gt;&lt;code&gt;_value&lt;/code&gt; - Current installment value&lt;/div&gt;&lt;div&gt;&lt;code&gt;_currentNumberOfInstallments&lt;/code&gt; - Number of installment that are made&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_validateAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_validateAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_validateAddress&lt;/strong&gt;&lt;span&gt;(address _address) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks for an empty address.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_address&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_validateAddresses&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_validateAddresses&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_validateAddresses&lt;/strong&gt;&lt;span&gt;(address[] _addresses) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Checks an array for empty addresses.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_addresses&lt;/code&gt; - address[]&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_validatePrivateOfferingData&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_validatePrivateOfferingData&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_validatePrivateOfferingData&lt;/strong&gt;&lt;span&gt;(address[] _participants, uint256[] _stakes) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Compares arrays sizes, checks the array of the participants for empty addresses and checks the sum of the array values.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_participants&lt;/code&gt; - The addresses of the participants&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stakes&lt;/code&gt; - The amounts of the tokens that belong to each participant&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Sum of participants stakes&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;changePoolAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;changePoolAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;changePoolAddress&lt;/strong&gt;&lt;span&gt;(uint8 _pool, address _newAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Changes the address of the specified pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool (only ECOSYSTEM_FUND or FOUNDATION_REWARD)&lt;/div&gt;&lt;div&gt;&lt;code&gt;_newAddress&lt;/code&gt; - The new address for the change&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;(uint256 _stakingEpochDuration, address _rewardForStakingAddress, address _ecosystemFundAddress, address _publicOfferingAddress, address _foundationAddress, address _exchangeRelatedActivitiesAddress, address[] _privateOfferingParticipants, uint256[] _privateOfferingParticipantsStakes) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets up constants and pools addresses that are used in distribution.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingEpochDuration&lt;/code&gt; - stacking epoch duration in seconds&lt;/div&gt;&lt;div&gt;&lt;code&gt;_rewardForStakingAddress&lt;/code&gt; - The address of the Reward for Staking. If this address is a multisig contract, the contract must be created with `create2` opcode to be able to create the same multisig with the same address on the opposite side of the bridge&lt;/div&gt;&lt;div&gt;&lt;code&gt;_ecosystemFundAddress&lt;/code&gt; - The address of the Ecosystem Fund&lt;/div&gt;&lt;div&gt;&lt;code&gt;_publicOfferingAddress&lt;/code&gt; - The address of the Public Offering&lt;/div&gt;&lt;div&gt;&lt;code&gt;_foundationAddress&lt;/code&gt; - The address of the Foundation&lt;/div&gt;&lt;div&gt;&lt;code&gt;_exchangeRelatedActivitiesAddress&lt;/code&gt; - The address of the Exchange Related Activities&lt;/div&gt;&lt;div&gt;&lt;code&gt;_privateOfferingParticipants&lt;/code&gt; - The addresses of the Private Offering participants&lt;/div&gt;&lt;div&gt;&lt;code&gt;_privateOfferingParticipantsStakes&lt;/code&gt; - The amounts of the tokens that belong to each participant&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPrivateOfferingParticipantsData&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPrivateOfferingParticipantsData&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPrivateOfferingParticipantsData&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[], uint256[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns addresses and stakes of Private Offering participants.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;dd&gt;uint256[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;initialize&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;initialize&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;initialize&lt;/strong&gt;&lt;span&gt;(address _tokenAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Initializes the contract after the token is created.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_tokenAddress&lt;/code&gt; - The address of the DPOS token&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;makeInstallment&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;makeInstallment&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;makeInstallment&lt;/strong&gt;&lt;span&gt;(uint8 _pool) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Makes an installment for one of the following pools: Private Offering, Ecosystem Fund, Foundation.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized &lt;/a&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_pool&lt;/code&gt; - The index of the pool&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setBridgeAddress&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setBridgeAddress&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setBridgeAddress&lt;/strong&gt;&lt;span&gt;(address _bridgeAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets bridge contract address.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_bridgeAddress&lt;/code&gt; - Bridge address&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;unlockRewardForStaking&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;unlockRewardForStaking&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;unlockRewardForStaking&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Transfers tokens to the bridge contract. Before calling this method, the poolAddress[REWARD_FOR_STAKING] address must call token.approve(Distribution.address, 73000000 ether), where `Distribution.address` is an address of this Distribution contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;Distribution.html#initialized&quot;&gt;initialized &lt;/a&gt;&lt;a href=&quot;Distribution.html#active&quot;&gt;active &lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/dpos-token/undefined"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script src="/dpos-token/js/scrollSpy.js"></script><link rel="stylesheet" href="/dpos-token/css/main.css"/><script src="/dpos-token/js/codetabs.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/dpos-token/"><h2 class="headerTitle">DPOS Token Distribution Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"></ul></nav></div></header></div></div><div class="navPusher singleRowMobileNav"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>root</span></h2></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">token</h3><ul class=""><li class="navListItem"><a class="navItem" href="/dpos-token/docs/Token_ERC677BridgeToken.html">ERC677BridgeToken</a></li><li class="navListItem"><a class="navItem" href="/dpos-token/docs/Token_IERC677BridgeToken.html">IERC677BridgeToken</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">root</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/dpos-token/docs/Distribution.html">Distribution</a></li><li class="navListItem"><a class="navItem" href="/dpos-token/docs/IDistribution.html">IDistribution</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle"> </h3><ul class=""><li class="navListItem"><a class="navItem" href="/dpos-token/docs/index.html">DPOS Token Distribution Docs</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Distribution</h1></header><article><div><span><div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> Distribution</h2><p class="base-contracts"><span>is</span> <a href="es_openzeppelin-solidity_contracts_ownership_Ownable.html">Ownable</a><span>, </span><a href="IDistribution.html">IDistribution</a></p><p class="description">Distributes DPOS tokens.</p><div class="source">Source: <a href="https://github.com/poanetwork/dpos-token/blob/v1.0.0/contracts/Distribution.sol" target="_blank">contracts/Distribution.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="Distribution.html#BridgeAddressSet">BridgeAddressSet</a></li><li><a href="Distribution.html#Initialized">Initialized</a></li><li><a href="Distribution.html#InstallmentMade">InstallmentMade</a></li><li><a href="Distribution.html#PoolAddressChanged">PoolAddressChanged</a></li><li><a href="Distribution.html#RewardForStakingUnlocked">RewardForStakingUnlocked</a></li><li><a href="Distribution.html#_calculateInstallmentValue">_calculateInstallmentValue</a></li><li><a href="Distribution.html#_calculateInstallmentValue">_calculateInstallmentValue</a></li><li><a href="Distribution.html#_calculateNumberOfAvailableInstallments">_calculateNumberOfAvailableInstallments</a></li><li><a href="Distribution.html#_calculateSumOfValues">_calculateSumOfValues</a></li><li><a href="Distribution.html#_distributeTokensForPrivateOffering">_distributeTokensForPrivateOffering</a></li><li><a href="Distribution.html#_endInstallment">_endInstallment</a></li><li><a href="Distribution.html#_updatePoolData">_updatePoolData</a></li><li><a href="Distribution.html#_validateAddress">_validateAddress</a></li><li><a href="Distribution.html#_validateAddresses">_validateAddresses</a></li><li><a href="Distribution.html#_validatePrivateOfferingData">_validatePrivateOfferingData</a></li><li><a href="Distribution.html#active">active</a></li><li><a href="Distribution.html#changePoolAddress">changePoolAddress</a></li><li><a href="Distribution.html#">fallback</a></li><li><a href="Distribution.html#getPrivateOfferingParticipantsData">getPrivateOfferingParticipantsData</a></li><li><a href="Distribution.html#initialize">initialize</a></li><li><a href="Distribution.html#initialized">initialized</a></li><li><a href="Distribution.html#makeInstallment">makeInstallment</a></li><li><a href="Distribution.html#setBridgeAddress">setBridgeAddress</a></li><li><a href="Distribution.html#unlockRewardForStaking">unlockRewardForStaking</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="BridgeAddressSet" class="anchor-marker"></span><h4 class="name">BridgeAddressSet</h4><div class="body"><code class="signature">event <strong>BridgeAddressSet</strong><span>(address bridge, address caller) </span></code><hr/><div class="description"><p>Emits when the bridge address has beed set.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>bridge</code> - The bridge address</div><div><code>caller</code> - The address of the caller</div></dd></dl></div></div></li><li><div class="item event"><span id="Initialized" class="anchor-marker"></span><h4 class="name">Initialized</h4><div class="body"><code class="signature">event <strong>Initialized</strong><span>(address token, address caller) </span></code><hr/><div class="description"><p>Emits when initialize method has been called.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>token</code> - The address of ERC677BridgeToken</div><div><code>caller</code> - The address of the caller</div></dd></dl></div></div></li><li><div class="item event"><span id="InstallmentMade" class="anchor-marker"></span><h4 class="name">InstallmentMade</h4><div class="body"><code class="signature">event <strong>InstallmentMade</strong><span>(uint8 pool, uint256 value, address caller) </span></code><hr/><div class="description"><p>Emits when an installment for the specified pool has been made.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>pool</code> - The index of the pool</div><div><code>value</code> - The installment value</div><div><code>caller</code> - The address of the caller</div></dd></dl></div></div></li><li><div class="item event"><span id="PoolAddressChanged" class="anchor-marker"></span><h4 class="name">PoolAddressChanged</h4><div class="body"><code class="signature">event <strong>PoolAddressChanged</strong><span>(uint8 pool, address oldAddress, address newAddress) </span></code><hr/><div class="description"><p>Emits when the pool address was changed.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>pool</code> - The index of the pool</div><div><code>oldAddress</code> - Old address</div><div><code>newAddress</code> - New address</div></dd></dl></div></div></li><li><div class="item event"><span id="RewardForStakingUnlocked" class="anchor-marker"></span><h4 class="name">RewardForStakingUnlocked</h4><div class="body"><code class="signature">event <strong>RewardForStakingUnlocked</strong><span>(address bridge, address poolAddress, uint256 value, address caller) </span></code><hr/><div class="description"><p>Emits when Reward for Staking has been unlocked.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>bridge</code> - The address of the bridge contract</div><div><code>poolAddress</code> - The address of Reward for Staking pool</div><div><code>value</code> - The unlocked value</div><div><code>caller</code> - The address of the caller</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="active" class="anchor-marker"></span><h4 class="name">active</h4><div class="body"><code class="signature">modifier <strong>active</strong><span>(uint8 _pool) </span></code><hr/><div class="description"><p>Checks that the installments for the given pool are started and are not ended already.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd></dl></div></div></li><li><div class="item modifier"><span id="initialized" class="anchor-marker"></span><h4 class="name">initialized</h4><div class="body"><code class="signature">modifier <strong>initialized</strong><span>() </span></code><hr/><div class="description"><p>Checks that the contract is initialized.</p></div></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="_calculateInstallmentValue" class="anchor-marker"></span><h4 class="name">_calculateInstallmentValue</h4><div class="body"><code class="signature">function <strong>_calculateInstallmentValue</strong><span>(uint8 _pool) </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Calculates the value of the installment for 1 epoch (week) for the given pool.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_calculateInstallmentValue" class="anchor-marker"></span><h4 class="name">_calculateInstallmentValue</h4><div class="body"><code class="signature">function <strong>_calculateInstallmentValue</strong><span>(uint8 _pool, uint256 _valueAtCliff) </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Calculates the value of the installment for 1 epoch (week) for the given pool.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div><div><code>_valueAtCliff</code> - Custom value to distribute at cliff</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_calculateNumberOfAvailableInstallments" class="anchor-marker"></span><h4 class="name">_calculateNumberOfAvailableInstallments</h4><div class="body"><code class="signature">function <strong>_calculateNumberOfAvailableInstallments</strong><span>(uint8 _pool) </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Calculates the number of available installments for the given pool.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd><dt><span class="label-return">Returns:</span></dt><dd>The number of available installments</dd></dl></div></div></li><li><div class="item function"><span id="_calculateSumOfValues" class="anchor-marker"></span><h4 class="name">_calculateSumOfValues</h4><div class="body"><code class="signature">function <strong>_calculateSumOfValues</strong><span>(uint256[] _values) </span><span>internal </span><span>pure </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Calculates the sum of values.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_values</code> - Array of values</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Sum of values</dd></dl></div></div></li><li><div class="item function"><span id="_distributeTokensForPrivateOffering" class="anchor-marker"></span><h4 class="name">_distributeTokensForPrivateOffering</h4><div class="body"><code class="signature">function <strong>_distributeTokensForPrivateOffering</strong><span>(uint256 _value) </span><span>internal </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Distributes tokens between Private Offering participants.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_value</code> - Amount of tokens to distribute</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_endInstallment" class="anchor-marker"></span><h4 class="name">_endInstallment</h4><div class="body"><code class="signature">function <strong>_endInstallment</strong><span>(uint8 _pool) </span><span>internal </span></code><hr/><div class="description"><p>Marks that all installments for the given pool are made.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd></dl></div></div></li><li><div class="item function"><span id="_updatePoolData" class="anchor-marker"></span><h4 class="name">_updatePoolData</h4><div class="body"><code class="signature">function <strong>_updatePoolData</strong><span>(uint8 _pool, uint256 _value, uint256 _currentNumberOfInstallments) </span><span>internal </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Updates the given pool data after each installment: the remaining number of tokens, the number of made installments. If the last installment are done and the tokens remained then transfers them to the pool and marks that all installments for the given pool are made.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div><div><code>_value</code> - Current installment value</div><div><code>_currentNumberOfInstallments</code> - Number of installment that are made</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_validateAddress" class="anchor-marker"></span><h4 class="name">_validateAddress</h4><div class="body"><code class="signature">function <strong>_validateAddress</strong><span>(address _address) </span><span>internal </span><span>pure </span></code><hr/><div class="description"><p>Checks for an empty address.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_address</code> - address</div></dd></dl></div></div></li><li><div class="item function"><span id="_validateAddresses" class="anchor-marker"></span><h4 class="name">_validateAddresses</h4><div class="body"><code class="signature">function <strong>_validateAddresses</strong><span>(address[] _addresses) </span><span>internal </span><span>pure </span></code><hr/><div class="description"><p>Checks an array for empty addresses.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_addresses</code> - address[]</div></dd></dl></div></div></li><li><div class="item function"><span id="_validatePrivateOfferingData" class="anchor-marker"></span><h4 class="name">_validatePrivateOfferingData</h4><div class="body"><code class="signature">function <strong>_validatePrivateOfferingData</strong><span>(address[] _participants, uint256[] _stakes) </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Compares arrays sizes, checks the array of the participants for empty addresses and checks the sum of the array values.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_participants</code> - The addresses of the participants</div><div><code>_stakes</code> - The amounts of the tokens that belong to each participant</div></dd><dt><span class="label-return">Returns:</span></dt><dd>Sum of participants stakes</dd></dl></div></div></li><li><div class="item function"><span id="changePoolAddress" class="anchor-marker"></span><h4 class="name">changePoolAddress</h4><div class="body"><code class="signature">function <strong>changePoolAddress</strong><span>(uint8 _pool, address _newAddress) </span><span>external </span></code><hr/><div class="description"><p>Changes the address of the specified pool.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Distribution.html#initialized">initialized </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool (only ECOSYSTEM_FUND or FOUNDATION_REWARD)</div><div><code>_newAddress</code> - The new address for the change</div></dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>(uint256 _stakingEpochDuration, address _rewardForStakingAddress, address _ecosystemFundAddress, address _publicOfferingAddress, address _foundationAddress, address _exchangeRelatedActivitiesAddress, address[] _privateOfferingParticipants, uint256[] _privateOfferingParticipantsStakes) </span><span>public </span></code><hr/><div class="description"><p>Sets up constants and pools addresses that are used in distribution.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingEpochDuration</code> - stacking epoch duration in seconds</div><div><code>_rewardForStakingAddress</code> - The address of the Reward for Staking. If this address is a multisig contract, the contract must be created with `create2` opcode to be able to create the same multisig with the same address on the opposite side of the bridge</div><div><code>_ecosystemFundAddress</code> - The address of the Ecosystem Fund</div><div><code>_publicOfferingAddress</code> - The address of the Public Offering</div><div><code>_foundationAddress</code> - The address of the Foundation</div><div><code>_exchangeRelatedActivitiesAddress</code> - The address of the Exchange Related Activities</div><div><code>_privateOfferingParticipants</code> - The addresses of the Private Offering participants</div><div><code>_privateOfferingParticipantsStakes</code> - The amounts of the tokens that belong to each participant</div></dd></dl></div></div></li><li><div class="item function"><span id="getPrivateOfferingParticipantsData" class="anchor-marker"></span><h4 class="name">getPrivateOfferingParticipantsData</h4><div class="body"><code class="signature">function <strong>getPrivateOfferingParticipantsData</strong><span>() </span><span>external </span><span>view </span><span>returns  (address[], uint256[]) </span></code><hr/><div class="description"><p>Returns addresses and stakes of Private Offering participants.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>address[]</dd><dd>uint256[]</dd></dl></div></div></li><li><div class="item function"><span id="initialize" class="anchor-marker"></span><h4 class="name">initialize</h4><div class="body"><code class="signature">function <strong>initialize</strong><span>(address _tokenAddress) </span><span>external </span></code><hr/><div class="description"><p>Initializes the contract after the token is created.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_tokenAddress</code> - The address of the DPOS token</div></dd></dl></div></div></li><li><div class="item function"><span id="makeInstallment" class="anchor-marker"></span><h4 class="name">makeInstallment</h4><div class="body"><code class="signature">function <strong>makeInstallment</strong><span>(uint8 _pool) </span><span>public </span></code><hr/><div class="description"><p>Makes an installment for one of the following pools: Private Offering, Ecosystem Fund, Foundation.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Distribution.html#initialized">initialized </a><a href="Distribution.html#active">active </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_pool</code> - The index of the pool</div></dd></dl></div></div></li><li><div class="item function"><span id="setBridgeAddress" class="anchor-marker"></span><h4 class="name">setBridgeAddress</h4><div class="body"><code class="signature">function <strong>setBridgeAddress</strong><span>(address _bridgeAddress) </span><span>external </span></code><hr/><div class="description"><p>Sets bridge contract address.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="es_openzeppelin-solidity_contracts_ownership_Ownable.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_bridgeAddress</code> - Bridge address</div></dd></dl></div></div></li><li><div class="item function"><span id="unlockRewardForStaking" class="anchor-marker"></span><h4 class="name">unlockRewardForStaking</h4><div class="body"><code class="signature">function <strong>unlockRewardForStaking</strong><span>() </span><span>external </span></code><hr/><div class="description"><p>Transfers tokens to the bridge contract. Before calling this method, the poolAddress[REWARD_FOR_STAKING] address must call token.approve(Distribution.address, 73000000 ether), where `Distribution.address` is an address of this Distribution contract.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Distribution.html#initialized">initialized </a><a href="Distribution.html#active">active </a></dd></dl></div></div></li></ul></div></div></div>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/dpos-token/docs/Token_IERC677BridgeToken.html"><span class="arrow-prev">← </span><span class="function-name-prevnext">IERC677BridgeToken</span></a><a class="docs-next button" href="/dpos-token/docs/IDistribution.html"><span>IDistribution</span><span class="arrow-next"> →</span></a></div></div></div></div></div></body></html>